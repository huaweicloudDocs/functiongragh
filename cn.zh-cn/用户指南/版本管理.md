# 版本管理<a name="functiongraph_01_0303"></a>

## 管理版本<a name="section5302192414611"></a>

函数创建以后，默认版本为latest版本，每个函数都有一个latest版本。函数代码稳定后可以进行发布操作，一旦发布版本就不允许对该版本的信息（包括metadata以及函数代码）进行修改。

**发布版本**

1.  用户登录FunctionGraph，进入“函数”界面。
2.  选择“函数列表”，单击函数名称，进入函数详情界面。
3.  （可选）在函数详情界面，选择latest版本，单击“操作\>发布新版本”，如[图1](#fig11441486710)所示，弹出“发布版本”界面。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >1.  进入函数详情界面，缺省是版本管理页latest版本，可以通过单击“版本”和“别名”进行切换。  

    **图 1**  发布新版本<a name="fig11441486710"></a>  
    ![](figures/发布新版本.png "发布新版本")

4.  （可选）在“发布版本”界面，输入函数版本配置信息，如[表1](#table184411486714)所示。

    **表 1**  版本信息表

    <a name="table184411486714"></a>
    <table><thead align="left"><tr id="row154494810715"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p184416482079"><a name="p184416482079"></a><a name="p184416482079"></a>字段</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p1944548773"><a name="p1944548773"></a><a name="p1944548773"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row12448481378"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p0447481075"><a name="p0447481075"></a><a name="p0447481075"></a>版本号</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p174484812711"><a name="p174484812711"></a><a name="p174484812711"></a>版本号命名规则为：可包含字母、数字、中划线、下划线和点，长度不超过32个字符，以字母/数字开头和结尾。</p>
    </td>
    </tr>
    <tr id="row104417481875"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p2449481077"><a name="p2449481077"></a><a name="p2449481077"></a>描述</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p13441248878"><a name="p13441248878"></a><a name="p13441248878"></a>函数描述，不超过512个字符。</p>
    </td>
    </tr>
    </tbody>
    </table>

5.  单击“发布”，系统自动完成版本发布，并生成版本号。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >-   如果输入了版本号，发布以后，版本号为用户输入的版本号。  
    >-   如果没有输入版本号，则由系统自动生成（使用日期时间作为版本号，例如：v20170819-190658）。  
    >-   单个函数下最多可以发布10个版本。  


**删除版本**

1.  用户登录FunctionGraph，进入“函数”界面。
2.  选择“函数列表”，单击函数名称，进入函数详情界面。
3.  在函数详情界面，选择函数版本，单击“操作\>删除版本”，如[图2](#fig115141511911)所示，弹出“删除版本”页。

    **图 2**  删除版本<a name="fig115141511911"></a>  
    ![](figures/删除版本.png "删除版本")

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >-   只有已发布版本才能删除，latest版本不能删除。  
    >-   如果函数版本关联了别名，则删除版本时会把关联的别名删除。  

4.  在“删除版本”页，输入“DELETE”（大写），单击“确定”，删除函数版本。如[图3](#fig12841105719403)所示。

    **图 3**  删除函数版本<a name="fig12841105719403"></a>  
    ![](figures/删除函数版本.png "删除函数版本")

    >![](public_sys-resources/icon-warning.gif) **警告：**   
    >-   删除操作无法恢复，请谨慎操作。  
    >-   提示“函数版本删除成功”，表示函数版本成功删除。  


## 管理别名<a name="section95871294105"></a>

别名指向特定的函数版本，可通过别名来调用该版本的函数。

**创建别名**

1.  用户登录FunctionGraph，进入“函数”界面。
2.  选择“函数列表”，单击函数名称，进入函数详情界面。
3.  在函数详情界面，选择函数版本，单击“操作\>创建别名”，如[图4](#fig92987917113)所示，弹出“创建别名”页面。

    **图 4**  创建别名<a name="fig92987917113"></a>  
    ![](figures/创建别名.png "创建别名")

4.  在“创建别名”页面，填写别名信息。如下[表2](#table929849111113)所示，带\*参数为必填项。

    **表 2**  别名信息表

    <a name="table929849111113"></a>
    <table><thead align="left"><tr id="row529810911116"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p102980916110"><a name="p102980916110"></a><a name="p102980916110"></a>字段</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p1129810931111"><a name="p1129810931111"></a><a name="p1129810931111"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row92984912114"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p2029899151117"><a name="p2029899151117"></a><a name="p2029899151117"></a>*别名名称</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p1298169191114"><a name="p1298169191114"></a><a name="p1298169191114"></a>别名名称。规则为：只能以大小写字母开头，且只能包含字母、数字、下划线和中划线，必须以字母或者数字结尾，长度不超过64个字符。</p>
    </td>
    </tr>
    <tr id="row72983921114"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p329815991112"><a name="p329815991112"></a><a name="p329815991112"></a>*对应版本</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p102981292112"><a name="p102981292112"></a><a name="p102981292112"></a>关联版本，从函数已有版本中选择。</p>
    </td>
    </tr>
    <tr id="row429815951110"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p2029818914113"><a name="p2029818914113"></a><a name="p2029818914113"></a>描述</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p6298129181111"><a name="p6298129181111"></a><a name="p6298129181111"></a>函数描述，不超过512个字符。</p>
    </td>
    </tr>
    </tbody>
    </table>

5.  单击“确定”，完成别名创建。

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >-   弹出“创建别名”页，提示“发布成功”，表示别名创建成功。  
    >-   单个函数下最多可以创建10个别名。  


**修改别名**

1.  用户登录FunctionGraph，进入“函数”界面。
2.  选择“函数列表”，单击函数名称，进入函数详情界面。
3.  在函数详情界面，选择函数版本，单击“别名配置”页签。
4.  在“别名配置”页签，选择待修改的别名，单击“编辑”，弹出“编辑”页面。
5.  在“编辑”页面，修改别名信息。如下[表3](#table1467375391213)所示，带\*参数为必填项。

    **表 3**  别名信息表

    <a name="table1467375391213"></a>
    <table><thead align="left"><tr id="row8673105351219"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="p3673155391216"><a name="p3673155391216"></a><a name="p3673155391216"></a>字段</p>
    </th>
    <th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="p14673125391211"><a name="p14673125391211"></a><a name="p14673125391211"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row567325301215"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p7673653171212"><a name="p7673653171212"></a><a name="p7673653171212"></a>*对应版本</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p8673153161212"><a name="p8673153161212"></a><a name="p8673153161212"></a>关联版本，从函数已有版本中选择。</p>
    </td>
    </tr>
    <tr id="row13673953181214"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="p12673105301218"><a name="p12673105301218"></a><a name="p12673105301218"></a>描述</p>
    </td>
    <td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="p0673653171218"><a name="p0673653171218"></a><a name="p0673653171218"></a>函数描述，不超过512个字符。</p>
    </td>
    </tr>
    </tbody>
    </table>

6.  单击“确定”，完成函数别名修改。

**删除别名**

1.  用户登录FunctionGraph，进入“函数”界面。
2.  在“函数”界面，单击函数名称，进入函数详情界面。
3.  在函数详情界面，选择函数别名，如[图5](#fig20811253151919)所示。

    **图 5**  函数别名<a name="fig20811253151919"></a>  
    ![](figures/函数别名.png "函数别名")

4.  单击“操作\>删除别名”页签，如[图6](#fig15157753152529)所示，弹出“删除别名”页面。

    **图 6**  删除函数别名<a name="fig15157753152529"></a>  
    ![](figures/删除函数别名.png "删除函数别名")

5.  在“删除别名”页面，输入“DELETE”（大写），单击“确定”，完成函数别名删除。如[图7](#fig494113405447)所示。

    **图 7**  删除别名<a name="fig494113405447"></a>  
    ![](figures/删除别名.png "删除别名")


