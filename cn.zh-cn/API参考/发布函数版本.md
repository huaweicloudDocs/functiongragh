# 发布函数版本<a name="functiongraph_06_0112"></a>

## 功能介绍<a name="section26279997"></a>

发布函数版本。

## URI<a name="section35193385"></a>

URL：/v2/\{project\_id\}/fgs/functions/\{function\_urn\}/versions

Method：POST

以最新latest代码发布版本，版本号系统自动生成，一个函数最多只能有10个版本。

参数说明如[表1](#d0e3819)所示。

**表 1**  参数说明

<a name="d0e3819"></a>
<table><thead align="left"><tr id="row59066360"><th class="cellrowborder" valign="top" width="17.349999999999998%" id="mcps1.2.5.1.1"><p id="p19645846"><a name="p19645846"></a><a name="p19645846"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="12.24%" id="mcps1.2.5.1.2"><p id="p47809697"><a name="p47809697"></a><a name="p47809697"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="14.29%" id="mcps1.2.5.1.3"><p id="p47380224"><a name="p47380224"></a><a name="p47380224"></a>必选</p>
</th>
<th class="cellrowborder" valign="top" width="56.120000000000005%" id="mcps1.2.5.1.4"><p id="p12592924"><a name="p12592924"></a><a name="p12592924"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row13393884"><td class="cellrowborder" valign="top" width="17.349999999999998%" headers="mcps1.2.5.1.1 "><p id="p11162792"><a name="p11162792"></a><a name="p11162792"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="12.24%" headers="mcps1.2.5.1.2 "><p id="p31770985"><a name="p31770985"></a><a name="p31770985"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="14.29%" headers="mcps1.2.5.1.3 "><p id="p23313031"><a name="p23313031"></a><a name="p23313031"></a>必选</p>
</td>
<td class="cellrowborder" valign="top" width="56.120000000000005%" headers="mcps1.2.5.1.4 "><p id="p9307369"><a name="p9307369"></a><a name="p9307369"></a>Project Id。</p>
</td>
</tr>
<tr id="row16657464"><td class="cellrowborder" valign="top" width="17.349999999999998%" headers="mcps1.2.5.1.1 "><p id="p7077307"><a name="p7077307"></a><a name="p7077307"></a>function_urn</p>
</td>
<td class="cellrowborder" valign="top" width="12.24%" headers="mcps1.2.5.1.2 "><p id="p36391032"><a name="p36391032"></a><a name="p36391032"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="14.29%" headers="mcps1.2.5.1.3 "><p id="p61992469"><a name="p61992469"></a><a name="p61992469"></a>必选</p>
</td>
<td class="cellrowborder" valign="top" width="56.120000000000005%" headers="mcps1.2.5.1.4 "><p id="p55334074"><a name="p55334074"></a><a name="p55334074"></a>函数的URN，详细解释见<a href="FunctionGraph函数模型.md">FunctionGraph函数模型</a>的描述。</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section48305013"></a>

**请求参数**

<a name="table25404982"></a>
<table><thead align="left"><tr id="row44073485"><th class="cellrowborder" valign="top" width="17.349999999999998%" id="mcps1.1.5.1.1"><p id="p13182542"><a name="p13182542"></a><a name="p13182542"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="16.33%" id="mcps1.1.5.1.2"><p id="p61152983"><a name="p61152983"></a><a name="p61152983"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="12.24%" id="mcps1.1.5.1.3"><p id="p54444625"><a name="p54444625"></a><a name="p54444625"></a>必选</p>
</th>
<th class="cellrowborder" valign="top" width="54.08%" id="mcps1.1.5.1.4"><p id="p47938532"><a name="p47938532"></a><a name="p47938532"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row57815863"><td class="cellrowborder" valign="top" width="17.349999999999998%" headers="mcps1.1.5.1.1 "><p id="p52573298"><a name="p52573298"></a><a name="p52573298"></a>digest</p>
</td>
<td class="cellrowborder" valign="top" width="16.33%" headers="mcps1.1.5.1.2 "><p id="p30578750"><a name="p30578750"></a><a name="p30578750"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="12.24%" headers="mcps1.1.5.1.3 "><p id="p60959682"><a name="p60959682"></a><a name="p60959682"></a>可选</p>
</td>
<td class="cellrowborder" valign="top" width="54.08%" headers="mcps1.1.5.1.4 "><p id="p38787239"><a name="p38787239"></a><a name="p38787239"></a>要发布的函数的代码的digest，如不提供则使用latest版本的代码进行发布。</p>
</td>
</tr>
<tr id="row144221654134316"><td class="cellrowborder" valign="top" width="17.349999999999998%" headers="mcps1.1.5.1.1 "><p id="p94221154204315"><a name="p94221154204315"></a><a name="p94221154204315"></a>version</p>
</td>
<td class="cellrowborder" valign="top" width="16.33%" headers="mcps1.1.5.1.2 "><p id="p16422155411431"><a name="p16422155411431"></a><a name="p16422155411431"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="12.24%" headers="mcps1.1.5.1.3 "><p id="p19422254204317"><a name="p19422254204317"></a><a name="p19422254204317"></a>可选</p>
</td>
<td class="cellrowborder" valign="top" width="54.08%" headers="mcps1.1.5.1.4 "><p id="p6422554204318"><a name="p6422554204318"></a><a name="p6422554204318"></a>待发布的版本号，如果未指定，则会使用当前时间格式化为"yyyymmdd-HHMMSS"的字符串作为发布版本号</p>
</td>
</tr>
<tr id="row13540837"><td class="cellrowborder" valign="top" width="17.349999999999998%" headers="mcps1.1.5.1.1 "><p id="p23066046"><a name="p23066046"></a><a name="p23066046"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="16.33%" headers="mcps1.1.5.1.2 "><p id="p56410443"><a name="p56410443"></a><a name="p56410443"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="12.24%" headers="mcps1.1.5.1.3 "><p id="p5843189"><a name="p5843189"></a><a name="p5843189"></a>可选</p>
</td>
<td class="cellrowborder" valign="top" width="54.08%" headers="mcps1.1.5.1.4 "><p id="p3536291"><a name="p3536291"></a><a name="p3536291"></a>要发布的版本描述。</p>
</td>
</tr>
</tbody>
</table>

**请求示例**

```
POST /v2/7aad83af3e8d42e99ac194e8419e2c9b/fgs/functions/urn:fss:cn-north-1:7aad83af3e8d42e99ac194e8419e2c9b:function:default:test:latest/versions HTTP/1.1 

  "digest": "", 
  "description": "test publish version" 
}
```

## 响应消息<a name="section32091938"></a>

**响应参数**

响应参数如[表2](#table394445163918)所示。    

**表 2**  响应参数

<a name="table394445163918"></a>
<table><thead align="left"><tr id="row5944851163912"><th class="cellrowborder" valign="top" width="20.202020202020204%" id="mcps1.2.4.1.1"><p id="p7944165193912"><a name="p7944165193912"></a><a name="p7944165193912"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="25.112511251125113%" id="mcps1.2.4.1.2"><p id="p494413519391"><a name="p494413519391"></a><a name="p494413519391"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="54.68546854685468%" id="mcps1.2.4.1.3"><p id="p159441351193918"><a name="p159441351193918"></a><a name="p159441351193918"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row898316393534"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p60439610"><a name="p60439610"></a><a name="p60439610"></a>func_urn</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p159832399530"><a name="p159832399530"></a><a name="p159832399530"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p63770254"><a name="p63770254"></a><a name="p63770254"></a>函数的URN（Uniform Resource Name），唯一标识函数。</p>
</td>
</tr>
<tr id="row42001372535"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p49181313"><a name="p49181313"></a><a name="p49181313"></a>func_name</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p5201173725318"><a name="p5201173725318"></a><a name="p5201173725318"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p24263425"><a name="p24263425"></a><a name="p24263425"></a>函数名称。</p>
</td>
</tr>
<tr id="row18461113155312"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p38405776"><a name="p38405776"></a><a name="p38405776"></a>user_domain</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p02891635145919"><a name="p02891635145919"></a><a name="p02891635145919"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p23860166"><a name="p23860166"></a><a name="p23860166"></a>租户名称。</p>
</td>
</tr>
<tr id="row12325311185316"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p12865660"><a name="p12865660"></a><a name="p12865660"></a>namespace</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p830113515915"><a name="p830113515915"></a><a name="p830113515915"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p35485571"><a name="p35485571"></a><a name="p35485571"></a>租户的project id。</p>
</td>
</tr>
<tr id="row42345816531"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p32068643"><a name="p32068643"></a><a name="p32068643"></a>project_name</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p73101735165919"><a name="p73101735165919"></a><a name="p73101735165919"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p47423267"><a name="p47423267"></a><a name="p47423267"></a>租户的project name。</p>
</td>
</tr>
<tr id="row71958611537"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p10497128"><a name="p10497128"></a><a name="p10497128"></a>package</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p10319103585917"><a name="p10319103585917"></a><a name="p10319103585917"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p44961053"><a name="p44961053"></a><a name="p44961053"></a>函数所属的分组Package，用于用户针对函数的自定义分组。</p>
</td>
</tr>
<tr id="row1121313416531"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p27482234"><a name="p27482234"></a><a name="p27482234"></a>runtime</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p143291358595"><a name="p143291358595"></a><a name="p143291358595"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p652094462816"><a name="p652094462816"></a><a name="p652094462816"></a>FunctionGraph函数的执行环境，支持Node.js6.10、Python2.7、Python3.6、Java8、Go1.8、Node.js 8.10、C#.NET Core 2.0、C#.NET Core 2.1。</p>
</td>
</tr>
<tr id="row16165192105318"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p39009036"><a name="p39009036"></a><a name="p39009036"></a>timeout</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p9339035135910"><a name="p9339035135910"></a><a name="p9339035135910"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p5615384"><a name="p5615384"></a><a name="p5615384"></a>函数执行超时时间，超时函数将被强行停止，范围3～900秒。</p>
</td>
</tr>
<tr id="row12238205710522"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p67083165"><a name="p67083165"></a><a name="p67083165"></a>handler</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p535063516598"><a name="p535063516598"></a><a name="p535063516598"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p65027307"><a name="p65027307"></a><a name="p65027307"></a>函数执行入口，规则：xx.xx，必须包含“. ”，举例：对于node.js函数：myfunction.handler，则表示函数的文件名为myfunction.js，执行的入口函数名为handler。</p>
</td>
</tr>
<tr id="row1229205512521"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p26048945"><a name="p26048945"></a><a name="p26048945"></a>memory_size</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p13586123410913"><a name="p13586123410913"></a><a name="p13586123410913"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p29589819"><a name="p29589819"></a><a name="p29589819"></a>函数消耗的内存，单位M，取值范围为：128、256、512、768、1024、1280、1536、1792、2048、2560、3072、3584、4096。最小值为128，最大值为4096。</p>
</td>
</tr>
<tr id="row192981153205213"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p29032981"><a name="p29032981"></a><a name="p29032981"></a>cpu</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p1037073510592"><a name="p1037073510592"></a><a name="p1037073510592"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p2861285"><a name="p2861285"></a><a name="p2861285"></a>函数占用的cpu资源，单位为millicore（1 core=1000 millicores），取值与MemorySize成比例，默认是128M内存占0.1个核（100 millicores），函数占用的CPU为基础CPU：200 millicores，再加上内存按比例占用的CPU，计算方法：内存/128 *100 + 200。</p>
</td>
</tr>
<tr id="row618615514526"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p5502495"><a name="p5502495"></a><a name="p5502495"></a>code_type</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p1738033513599"><a name="p1738033513599"></a><a name="p1738033513599"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p43048911"><a name="p43048911"></a><a name="p43048911"></a>函数代码类型，取值有4种：</p>
<p id="p51895880"><a name="p51895880"></a><a name="p51895880"></a>inline：UI在线编辑代码</p>
<p id="p64409739"><a name="p64409739"></a><a name="p64409739"></a>zip：函数代码为zip包</p>
<p id="p42816746"><a name="p42816746"></a><a name="p42816746"></a>jar：函数代码为jar包，主要针对Java函数</p>
<p id="p49806396"><a name="p49806396"></a><a name="p49806396"></a>obs：函数代码来源于obs存储</p>
</td>
</tr>
<tr id="row1854324825113"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p2967967"><a name="p2967967"></a><a name="p2967967"></a>code_url</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p38271640155912"><a name="p38271640155912"></a><a name="p38271640155912"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p39078787"><a name="p39078787"></a><a name="p39078787"></a>当CodeType为obs时，该值为函数代码包在OBS上的地址，CodeType为其他值时，该字段为空。</p>
</td>
</tr>
<tr id="row761414555118"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p34277422"><a name="p34277422"></a><a name="p34277422"></a>code_filename</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p3839240115913"><a name="p3839240115913"></a><a name="p3839240115913"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p25007806"><a name="p25007806"></a><a name="p25007806"></a>函数的文件名，当CodeType为jar/zip时必须提供该字段，inline和obs不需要提供。</p>
</td>
</tr>
<tr id="row45128232510"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p44188613"><a name="p44188613"></a><a name="p44188613"></a>code_size</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p4850114010594"><a name="p4850114010594"></a><a name="p4850114010594"></a>int64</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p22507915"><a name="p22507915"></a><a name="p22507915"></a>函数大小，单位：字节。</p>
</td>
</tr>
<tr id="row112081421205117"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p33707641"><a name="p33707641"></a><a name="p33707641"></a>user_data</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p1861440185912"><a name="p1861440185912"></a><a name="p1861440185912"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p45964432"><a name="p45964432"></a><a name="p45964432"></a>用户自定义的name/value信息，在函数中使用的参数，举例：如函数要访问某个主机，可以设置自定义参数：Host={host_ip}，最多定义20个，总长度不超过4KB。</p>
</td>
</tr>
<tr id="row12112101985115"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p20747816"><a name="p20747816"></a><a name="p20747816"></a>digest</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p1687714404594"><a name="p1687714404594"></a><a name="p1687714404594"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p2851512"><a name="p2851512"></a><a name="p2851512"></a>函数代码SHA512 hash值，用于判断函数是否变化。</p>
</td>
</tr>
<tr id="row134021765117"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p65486773"><a name="p65486773"></a><a name="p65486773"></a>version</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p388920409598"><a name="p388920409598"></a><a name="p388920409598"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p2828410"><a name="p2828410"></a><a name="p2828410"></a>函数版本号，由系统自动生成，规则：vYYYYMMDD-HHMMSS（v+年月日-时分秒）。</p>
</td>
</tr>
<tr id="row162071015105114"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p48645199"><a name="p48645199"></a><a name="p48645199"></a>image_name</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p189011840195919"><a name="p189011840195919"></a><a name="p189011840195919"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p47947026"><a name="p47947026"></a><a name="p47947026"></a>函数版本的内部标识。</p>
</td>
</tr>
<tr id="row1251115812517"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p56772777"><a name="p56772777"></a><a name="p56772777"></a>xrole</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p139143403598"><a name="p139143403598"></a><a name="p139143403598"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p35192261"><a name="p35192261"></a><a name="p35192261"></a>函数使用的权限委托名称，需要IAM支持，并在IAM界面创建委托，当函数需要访问其他服务时，必须提供该字段。</p>
</td>
</tr>
<tr id="row354514614513"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p15157838201310"><a name="p15157838201310"></a><a name="p15157838201310"></a>app_xrole</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p1852141016102"><a name="p1852141016102"></a><a name="p1852141016102"></a>*string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p215783891315"><a name="p215783891315"></a><a name="p215783891315"></a>函数app使用的权限委托名称，需要IAM支持，并在IAM界面创建委托，当函数需要访问其他服务时，必须提供该字段。</p>
</td>
</tr>
<tr id="row1937154145711"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p1947817508576"><a name="p1947817508576"></a><a name="p1947817508576"></a>dependency_pkg</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p13478750125716"><a name="p13478750125716"></a><a name="p13478750125716"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p129371741195717"><a name="p129371741195717"></a><a name="p129371741195717"></a>函数依赖的第三方软件zip包在obs上的地址，多个第三方软件要打包到一个zip文件中，如果未使用第三方软件。</p>
</td>
</tr>
<tr id="row848184115116"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p19572290"><a name="p19572290"></a><a name="p19572290"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p17880477596"><a name="p17880477596"></a><a name="p17880477596"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p41851680"><a name="p41851680"></a><a name="p41851680"></a>函数描述。</p>
</td>
</tr>
<tr id="row722816218514"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p42450590"><a name="p42450590"></a><a name="p42450590"></a>version_description</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p7991247145910"><a name="p7991247145910"></a><a name="p7991247145910"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p15945784"><a name="p15945784"></a><a name="p15945784"></a>函数版本描述。</p>
</td>
</tr>
<tr id="row19286204517"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p14643338"><a name="p14643338"></a><a name="p14643338"></a>last_modified</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p20110547185915"><a name="p20110547185915"></a><a name="p20110547185915"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p45259754"><a name="p45259754"></a><a name="p45259754"></a>函数最后一次更新时间。</p>
</td>
</tr>
<tr id="row682292814107"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p08229284105"><a name="p08229284105"></a><a name="p08229284105"></a>func_code</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p177119355109"><a name="p177119355109"></a><a name="p177119355109"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p1282312281108"><a name="p1282312281108"></a><a name="p1282312281108"></a>函数代码，请参考<a href="获取函数列表.md#table535915353505">表4</a>。</p>
</td>
</tr>
<tr id="row188192822711"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p78812287273"><a name="p78812287273"></a><a name="p78812287273"></a>depend_list</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p18881162882714"><a name="p18881162882714"></a><a name="p18881162882714"></a>[]string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p18881182842710"><a name="p18881182842710"></a><a name="p18881182842710"></a>依赖包列表。</p>
</td>
</tr>
<tr id="row1732519315277"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p163252312270"><a name="p163252312270"></a><a name="p163252312270"></a>strategy_config</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p1832518315276"><a name="p1832518315276"></a><a name="p1832518315276"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p18325531142712"><a name="p18325531142712"></a><a name="p18325531142712"></a>函数策略配置，请参考<a href="#table4775818446">表3</a>。</p>
</td>
</tr>
<tr id="row203481025124"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p665414201129"><a name="p665414201129"></a><a name="p665414201129"></a>extend_config</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p96544204125"><a name="p96544204125"></a><a name="p96544204125"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p965472017122"><a name="p965472017122"></a><a name="p965472017122"></a>函数扩展配置。</p>
</td>
</tr>
<tr id="row12601109121213"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p36543205127"><a name="p36543205127"></a><a name="p36543205127"></a>dependencies</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p106548205126"><a name="p106548205126"></a><a name="p106548205126"></a>[]*string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p5655192010124"><a name="p5655192010124"></a><a name="p5655192010124"></a>依赖代码包。</p>
</td>
</tr>
<tr id="row14162612161215"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p16554202126"><a name="p16554202126"></a><a name="p16554202126"></a>initializer_handler</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p14655320201219"><a name="p14655320201219"></a><a name="p14655320201219"></a>string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p0655172091220"><a name="p0655172091220"></a><a name="p0655172091220"></a>函数初始化入口，规则：xx.xx，必须包含“. ”，举例：对于node.js函数：myfunction.initializer，则表示函数的文件名为myfunction.js，初始化的入口函数名为initializer。</p>
</td>
</tr>
<tr id="row777401561215"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p9655112081220"><a name="p9655112081220"></a><a name="p9655112081220"></a>initializer_timeout</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p4655320151215"><a name="p4655320151215"></a><a name="p4655320151215"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p1365512206124"><a name="p1365512206124"></a><a name="p1365512206124"></a>初始化超时时间，超时函数将被强行停止，范围1～300秒。</p>
</td>
</tr>
<tr id="row8757141812126"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p146551220191213"><a name="p146551220191213"></a><a name="p146551220191213"></a>func_vpc</p>
</td>
<td class="cellrowborder" valign="top" width="25.112511251125113%" headers="mcps1.2.4.1.2 "><p id="p2655102061212"><a name="p2655102061212"></a><a name="p2655102061212"></a>*string</p>
</td>
<td class="cellrowborder" valign="top" width="54.68546854685468%" headers="mcps1.2.4.1.3 "><p id="p1655172011127"><a name="p1655172011127"></a><a name="p1655172011127"></a>vpc配置，请参考<a href="获取函数列表.md#table11522131317013">表6 func_vpc参数说明</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 3**  strategy\_config参数说明

<a name="table4775818446"></a>
<table><thead align="left"><tr id="row17785844414"><th class="cellrowborder" valign="top" width="18%" id="mcps1.2.5.1.1"><p id="p771581446"><a name="p771581446"></a><a name="p771581446"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="16%" id="mcps1.2.5.1.2"><p id="p1773582447"><a name="p1773582447"></a><a name="p1773582447"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="13%" id="mcps1.2.5.1.3"><p id="p107115884415"><a name="p107115884415"></a><a name="p107115884415"></a>必选</p>
</th>
<th class="cellrowborder" valign="top" width="53%" id="mcps1.2.5.1.4"><p id="p974580442"><a name="p974580442"></a><a name="p974580442"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row47195819446"><td class="cellrowborder" valign="top" width="18%" headers="mcps1.2.5.1.1 "><p id="p17775834410"><a name="p17775834410"></a><a name="p17775834410"></a>concurrency</p>
</td>
<td class="cellrowborder" valign="top" width="16%" headers="mcps1.2.5.1.2 "><p id="p9285359487"><a name="p9285359487"></a><a name="p9285359487"></a>int</p>
</td>
<td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.5.1.3 "><p id="p13745811441"><a name="p13745811441"></a><a name="p13745811441"></a>必选</p>
</td>
<td class="cellrowborder" valign="top" width="53%" headers="mcps1.2.5.1.4 "><p id="p13755817443"><a name="p13755817443"></a><a name="p13755817443"></a>0：函数被禁用。</p>
<p id="p1411826144918"><a name="p1411826144918"></a><a name="p1411826144918"></a>-1：函数被启用。</p>
</td>
</tr>
</tbody>
</table>

**响应示例**

成功时的返回格式：

```
HTTP/1.1 200
{
       "func_urn": "urn:fss:cn-north-1:7aad83af3e8d42e99ac194e8419e2c9b:function:default:test",
       "func_name": "test",
       "user_domain": "cff01_hk",
       "namespace": "7aad83af3e8d42e99ac194e8419e2c9b",
       "project_name": "cn-north-1",
       "package": "default",
       "runtime": "Node.js6.10",
       "timeout": 3,
       "handler": "test.handler",
       "memory_size": 128,
       "cpu": 300,
       "code_type": "inline",
       "code_url": "",
       "code_filename": "index.js",
       "code_size": 272,
       "user_data": "",
       "digest": "decbce6939297b0b5ec6d1a23bf9c725870f5e69fc338a89a6a4029264688dc26338f56d08b6535de47f15ad538e22ca66613b9a46f807d50b687bb53fded1c6",
       "version": "latest",
       "image_name": "latest-5qe8e",
       "xrole": "cff",
  "app_xrole": null 
      "dependency_pkg": "",
       "description": "111",
       "version_description": "",
       "last_modified": "2018-03-28T11:30:32+08:00",
  "func_code": {
    "file": "",
    "link": ""
   },
 "func_vpc":null
   "depend_list": null,
   "strategy_config": {
       "concurrency": -1
   },
   "extend_config": "",
   "dependencies": null,
"initializer_handler": "index.initializer",
"initializer_timeout": 3      }
```

失败时的返回格式（示例）：

```
HTTP/1.1 404 Not Found 
{ 
  "error_code": "FSS.1051", 
  "error_msg": "Not found the function" 
 }
```

## 状态码<a name="section20391994"></a>

状态码说明如[表4](#d0e3900)所示。

**表 4**  状态码说明

<a name="d0e3900"></a>
<table><thead align="left"><tr id="row38947203"><th class="cellrowborder" valign="top" width="13%" id="mcps1.2.3.1.1"><p id="p606845"><a name="p606845"></a><a name="p606845"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="87%" id="mcps1.2.3.1.2"><p id="p49154467"><a name="p49154467"></a><a name="p49154467"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row22088927"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p44372630"><a name="p44372630"></a><a name="p44372630"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p37413298"><a name="p37413298"></a><a name="p37413298"></a>InvalidParameterValueException：输入参数错误。</p>
</td>
</tr>
<tr id="row1175370"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p28096120"><a name="p28096120"></a><a name="p28096120"></a>401</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p61193214"><a name="p61193214"></a><a name="p61193214"></a>UnauthorizedAccess：未授权的访问。</p>
</td>
</tr>
<tr id="row13868018"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p49567664"><a name="p49567664"></a><a name="p49567664"></a>403</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p55557851"><a name="p55557851"></a><a name="p55557851"></a>Forbidden：禁止访问或创建的版本个数超出限制。</p>
</td>
</tr>
<tr id="row30258612"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p35028525"><a name="p35028525"></a><a name="p35028525"></a>404</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p18738246"><a name="p18738246"></a><a name="p18738246"></a>ResourceNotFoundException：未找到指定的函数。</p>
</td>
</tr>
<tr id="row414713229212"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p14179142824616"><a name="p14179142824616"></a><a name="p14179142824616"></a>409</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p517912813469"><a name="p517912813469"></a><a name="p517912813469"></a>ResourceConflictException：函数已存在。</p>
</td>
</tr>
<tr id="row34426486"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p37081954"><a name="p37081954"></a><a name="p37081954"></a>429</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p50848323"><a name="p50848323"></a><a name="p50848323"></a>TooManyRequestsException：并发请求数太多。</p>
</td>
</tr>
<tr id="row54981731"><td class="cellrowborder" valign="top" width="13%" headers="mcps1.2.3.1.1 "><p id="p24335246"><a name="p24335246"></a><a name="p24335246"></a>500</p>
</td>
<td class="cellrowborder" valign="top" width="87%" headers="mcps1.2.3.1.2 "><p id="p24997922"><a name="p24997922"></a><a name="p24997922"></a>InternalServerError：服务内部出错。</p>
</td>
</tr>
</tbody>
</table>

