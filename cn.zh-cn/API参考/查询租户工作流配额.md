# 查询租户工作流配额<a name="functiongraph_06_0430"></a>

## 功能介绍<a name="section3077144"></a>

查询租户创建工作流的配额信息。

>![](public_sys-resources/icon-note.gif) **说明：**   
>若当前租户是第一次使用本服务，如查询工作流配额或创建工作流，设定用户工作流配额值为全局默认工作流配额值并返回。此后，该配额值不随全局默认工作流配额值变化而变化。  

## URI<a name="section27694303"></a>

GET /v1.0/\{project\_id\}/cloud\_graphs\_quota

参数说明如[表1](#table17022773)所示。   

**表 1**  参数说明

<a name="table17022773"></a>
<table><thead align="left"><tr id="row56669285"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p26809401"><a name="p26809401"></a><a name="p26809401"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p24077873"><a name="p24077873"></a><a name="p24077873"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p4150710"><a name="p4150710"></a><a name="p4150710"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row663215"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p53720453"><a name="p53720453"></a><a name="p53720453"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p56389407"><a name="p56389407"></a><a name="p56389407"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p4139237"><a name="p4139237"></a><a name="p4139237"></a>租户ID</p>
</td>
</tr>
</tbody>
</table>

## 请求<a name="section47922135"></a>

不涉及

## 响应<a name="section28646034"></a>

-   正常响应

    **响应参数**

    响应参数如[表2](#table169261745124818)所示。   

    **表 2**  响应参数

    <a name="table169261745124818"></a>
    <table><thead align="left"><tr id="row149341645134816"><th class="cellrowborder" valign="top" width="31.313131313131308%" id="mcps1.2.4.1.1"><p id="p209341445184817"><a name="p209341445184817"></a><a name="p209341445184817"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="23.232323232323232%" id="mcps1.2.4.1.2"><p id="p129413452483"><a name="p129413452483"></a><a name="p129413452483"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="45.45454545454545%" id="mcps1.2.4.1.3"><p id="p594116454483"><a name="p594116454483"></a><a name="p594116454483"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row79494459483"><td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.1 "><p id="p11949184510481"><a name="p11949184510481"></a><a name="p11949184510481"></a>quota_set</p>
    </td>
    <td class="cellrowborder" valign="top" width="23.232323232323232%" headers="mcps1.2.4.1.2 "><p id="p1994917457482"><a name="p1994917457482"></a><a name="p1994917457482"></a>字典数据结构</p>
    </td>
    <td class="cellrowborder" valign="top" width="45.45454545454545%" headers="mcps1.2.4.1.3 "><p id="p994910457483"><a name="p994910457483"></a><a name="p994910457483"></a>配额定义结构体，具体请参见<a href="#functiongraph_06_0430__table6957045154810">表3</a></p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  quota\_set结构体说明

    <a name="table6957045154810"></a>
    <table><thead align="left"><tr id="row149651450485"><th class="cellrowborder" valign="top" width="20.202020202020204%" id="mcps1.2.4.1.1"><p id="p2965144510484"><a name="p2965144510484"></a><a name="p2965144510484"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="31.313131313131308%" id="mcps1.2.4.1.2"><p id="p2965154514481"><a name="p2965154514481"></a><a name="p2965154514481"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="48.484848484848484%" id="mcps1.2.4.1.3"><p id="p197384516485"><a name="p197384516485"></a><a name="p197384516485"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row397394517484"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p209737451488"><a name="p209737451488"></a><a name="p209737451488"></a>resources</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p10973045154820"><a name="p10973045154820"></a><a name="p10973045154820"></a>列表数据结构</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p997304519480"><a name="p997304519480"></a><a name="p997304519480"></a>配额资源数组，具体请参见<a href="#functiongraph_06_0430__table2980645144819">表4</a></p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 4**  resources结构体说明

    <a name="table2980645144819"></a>
    <table><thead align="left"><tr id="row79881145124811"><th class="cellrowborder" valign="top" width="20.202020202020204%" id="mcps1.2.4.1.1"><p id="p198804513489"><a name="p198804513489"></a><a name="p198804513489"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="31.313131313131308%" id="mcps1.2.4.1.2"><p id="p1698844518487"><a name="p1698844518487"></a><a name="p1698844518487"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="48.484848484848484%" id="mcps1.2.4.1.3"><p id="p1399684534810"><a name="p1399684534810"></a><a name="p1399684534810"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row13996124544812"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p16996745174816"><a name="p16996745174816"></a><a name="p16996745174816"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p1415469480"><a name="p1415469480"></a><a name="p1415469480"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p2474694819"><a name="p2474694819"></a><a name="p2474694819"></a>配额标识</p>
    </td>
    </tr>
    <tr id="row812646144813"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p82013462489"><a name="p82013462489"></a><a name="p82013462489"></a>min</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p132094616487"><a name="p132094616487"></a><a name="p132094616487"></a>Int</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p320246114817"><a name="p320246114817"></a><a name="p320246114817"></a>配额取值最小值</p>
    </td>
    </tr>
    <tr id="row92064618489"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p132774616487"><a name="p132774616487"></a><a name="p132774616487"></a>max</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p14271946194810"><a name="p14271946194810"></a><a name="p14271946194810"></a>Int</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p14272463483"><a name="p14272463483"></a><a name="p14272463483"></a>配额取值最大值</p>
    </td>
    </tr>
    <tr id="row2275462483"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p172710460488"><a name="p172710460488"></a><a name="p172710460488"></a>quota</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p3352046134816"><a name="p3352046134816"></a><a name="p3352046134816"></a>Int</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p63514611483"><a name="p63514611483"></a><a name="p63514611483"></a>系统当前配额取值</p>
    </td>
    </tr>
    <tr id="row935124654813"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p635114674811"><a name="p635114674811"></a><a name="p635114674811"></a>used</p>
    </td>
    <td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p133520465480"><a name="p133520465480"></a><a name="p133520465480"></a>Int</p>
    </td>
    <td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p10430468480"><a name="p10430468480"></a><a name="p10430468480"></a>已经使用掉的配额</p>
    </td>
    </tr>
    </tbody>
    </table>

    **响应示例**

    ```
    {
        "quotas": {
            "resources": [{
                "type": "graphs",
                "unit": "",//单位为空         
                "min": 1,               
                "max": 10000,             
                "quota": 1001,
                "used": 0
            }]
        }
    }
    ```

-   异常响应

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >查询工作流配额的异常响应格式适配Service OM要求。  

    **响应参数**

    响应参数如[表5](#table347322617488)所示。

    **表 5**  响应参数

    <a name="table347322617488"></a>
    <table><thead align="left"><tr id="row13473192614814"><th class="cellrowborder" valign="top" width="18.18%" id="mcps1.2.4.1.1"><p id="p11473192674812"><a name="p11473192674812"></a><a name="p11473192674812"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.25%" id="mcps1.2.4.1.2"><p id="p104731926174813"><a name="p104731926174813"></a><a name="p104731926174813"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="56.57%" id="mcps1.2.4.1.3"><p id="p7473192613483"><a name="p7473192613483"></a><a name="p7473192613483"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1047342624815"><td class="cellrowborder" valign="top" width="18.18%" headers="mcps1.2.4.1.1 "><p id="p18473226194817"><a name="p18473226194817"></a><a name="p18473226194817"></a>error</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.25%" headers="mcps1.2.4.1.2 "><p id="p5473526124813"><a name="p5473526124813"></a><a name="p5473526124813"></a>字典数据结构</p>
    </td>
    <td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.4.1.3 "><p id="p17473126134811"><a name="p17473126134811"></a><a name="p17473126134811"></a>自定义异常结构体，具体请参见<a href="#functiongraph_06_0430__table16473132610489">表6</a></p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 6**  error结构体说明

    <a name="table16473132610489"></a>
    <table><thead align="left"><tr id="row12473202613484"><th class="cellrowborder" valign="top" width="18.18%" id="mcps1.2.4.1.1"><p id="p14473182619484"><a name="p14473182619484"></a><a name="p14473182619484"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.25%" id="mcps1.2.4.1.2"><p id="p14473122664820"><a name="p14473122664820"></a><a name="p14473122664820"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="56.57%" id="mcps1.2.4.1.3"><p id="p16473182619484"><a name="p16473182619484"></a><a name="p16473182619484"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1047313263483"><td class="cellrowborder" valign="top" width="18.18%" headers="mcps1.2.4.1.1 "><p id="p1347392664818"><a name="p1347392664818"></a><a name="p1347392664818"></a>message</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.25%" headers="mcps1.2.4.1.2 "><p id="p347322674811"><a name="p347322674811"></a><a name="p347322674811"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.4.1.3 "><p id="p1473142616485"><a name="p1473142616485"></a><a name="p1473142616485"></a>异常错误信息描述</p>
    </td>
    </tr>
    <tr id="row347392624814"><td class="cellrowborder" valign="top" width="18.18%" headers="mcps1.2.4.1.1 "><p id="p1747352615486"><a name="p1747352615486"></a><a name="p1747352615486"></a>code</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.25%" headers="mcps1.2.4.1.2 "><p id="p1347332619488"><a name="p1347332619488"></a><a name="p1347332619488"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="56.57%" headers="mcps1.2.4.1.3 "><p id="p9473826144811"><a name="p9473826144811"></a><a name="p9473826144811"></a>异常错误信息编码</p>
    </td>
    </tr>
    </tbody>
    </table>

    **响应示例**

    ```
    {
        "error": {
            "message": "User must authenticate before making a request.",
            "code": "FGS.0011"
        }
    }
    ```

    请参考[异常响应](请求结果.md#section88241732388)。


## 返回值<a name="section1566334102610"></a>

请参考[返回值](请求结果.md#section20306194210386)。

