# 创建工作流触发器<a name="functiongraph_06_0510"></a>

## 功能介绍<a name="section45732164"></a>

创建一个触发器。

## URI<a name="section8936292"></a>

POST /v1.0/\{project\_id\}/cloud\_triggers

参数说明如[表1](#table17322790)所示。    

**表 1**  参数说明

<a name="table17322790"></a>
<table><thead align="left"><tr id="row46952641"><th class="cellrowborder" valign="top" width="17.169999999999998%" id="mcps1.2.4.1.1"><p id="p45067606"><a name="p45067606"></a><a name="p45067606"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="17.169999999999998%" id="mcps1.2.4.1.2"><p id="p26597492"><a name="p26597492"></a><a name="p26597492"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="65.66%" id="mcps1.2.4.1.3"><p id="p6913218"><a name="p6913218"></a><a name="p6913218"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row23099752"><td class="cellrowborder" valign="top" width="17.169999999999998%" headers="mcps1.2.4.1.1 "><p id="p59140623"><a name="p59140623"></a><a name="p59140623"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="17.169999999999998%" headers="mcps1.2.4.1.2 "><p id="p25661150"><a name="p25661150"></a><a name="p25661150"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="65.66%" headers="mcps1.2.4.1.3 "><p id="p65287294"><a name="p65287294"></a><a name="p65287294"></a>租户ID</p>
</td>
</tr>
</tbody>
</table>

## 请求<a name="section13317766"></a>

**请求参数**

请求参数如[表2](#table13663696)所示。    

**表 2**  请求参数

<a name="table13663696"></a>
<table><thead align="left"><tr id="row7467800"><th class="cellrowborder" valign="top" width="15.290000000000001%" id="mcps1.2.6.1.1"><p id="p912076"><a name="p912076"></a><a name="p912076"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="13.98%" id="mcps1.2.6.1.2"><p id="p6769295"><a name="p6769295"></a><a name="p6769295"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="17.64%" id="mcps1.2.6.1.3"><p id="p11442060"><a name="p11442060"></a><a name="p11442060"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="32.23%" id="mcps1.2.6.1.4"><p id="p54391657"><a name="p54391657"></a><a name="p54391657"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="20.86%" id="mcps1.2.6.1.5"><p id="p4929721110167"><a name="p4929721110167"></a><a name="p4929721110167"></a>约束</p>
</th>
</tr>
</thead>
<tbody><tr id="row43648078"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p45833444"><a name="p45833444"></a><a name="p45833444"></a>event_source</p>
</td>
<td class="cellrowborder" valign="top" width="13.98%" headers="mcps1.2.6.1.2 "><p id="p21521490"><a name="p21521490"></a><a name="p21521490"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.64%" headers="mcps1.2.6.1.3 "><p id="p65519169"><a name="p65519169"></a><a name="p65519169"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="32.23%" headers="mcps1.2.6.1.4 "><p id="p5452505"><a name="p5452505"></a><a name="p5452505"></a>事件源类型</p>
</td>
<td class="cellrowborder" valign="top" width="20.86%" headers="mcps1.2.6.1.5 "><p id="p3365112210167"><a name="p3365112210167"></a><a name="p3365112210167"></a>必须是OBS、SMN或Worker中的一个</p>
</td>
</tr>
<tr id="row49072547"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p15453386"><a name="p15453386"></a><a name="p15453386"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="13.98%" headers="mcps1.2.6.1.2 "><p id="p43764782"><a name="p43764782"></a><a name="p43764782"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="17.64%" headers="mcps1.2.6.1.3 "><p id="p55286454"><a name="p55286454"></a><a name="p55286454"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="32.23%" headers="mcps1.2.6.1.4 "><p id="p4185578210480"><a name="p4185578210480"></a><a name="p4185578210480"></a>触发器名称，只允许字母、数字以及‘-’，最大长度32</p>
</td>
<td class="cellrowborder" valign="top" width="20.86%" headers="mcps1.2.6.1.5 "><p id="p4138638210167"><a name="p4138638210167"></a><a name="p4138638210167"></a>-</p>
</td>
</tr>
<tr id="row38507045"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p32062968"><a name="p32062968"></a><a name="p32062968"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="13.98%" headers="mcps1.2.6.1.2 "><p id="p46963595"><a name="p46963595"></a><a name="p46963595"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="17.64%" headers="mcps1.2.6.1.3 "><p id="p45954822"><a name="p45954822"></a><a name="p45954822"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="32.23%" headers="mcps1.2.6.1.4 "><p id="p13375641104810"><a name="p13375641104810"></a><a name="p13375641104810"></a>触发器描述，最大长度256</p>
</td>
<td class="cellrowborder" valign="top" width="20.86%" headers="mcps1.2.6.1.5 "><p id="p6396267910167"><a name="p6396267910167"></a><a name="p6396267910167"></a>-</p>
</td>
</tr>
<tr id="row13742502"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p39400845"><a name="p39400845"></a><a name="p39400845"></a>trigger_def</p>
</td>
<td class="cellrowborder" valign="top" width="13.98%" headers="mcps1.2.6.1.2 "><p id="p37351897"><a name="p37351897"></a><a name="p37351897"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="17.64%" headers="mcps1.2.6.1.3 "><p id="p5604850"><a name="p5604850"></a><a name="p5604850"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="32.23%" headers="mcps1.2.6.1.4 "><p id="p51339711"><a name="p51339711"></a><a name="p51339711"></a>触发器定义</p>
</td>
<td class="cellrowborder" valign="top" width="20.86%" headers="mcps1.2.6.1.5 "><p id="p1359451610167"><a name="p1359451610167"></a><a name="p1359451610167"></a>-</p>
</td>
</tr>
</tbody>
</table>

>![](public_sys-resources/icon-note.gif) **说明：**   
>-   若请求中没有携带name字段，Event-manager会使用一个随机字符串作为name，并保证该字符串在当前租户下唯一。  
>-   不同触发器源定义格式不同，所以trigger\_def中使用字符串保存触发器定义序列化后的JSON字符串。  

**请求样例**

-   SMN触发器请求样例

    ```
    {
        "event_source": "SMN",
        "name": "smn-test-event",     
        "description": "OBS test_bucket trigger",
        "trigger_def": "{\"Topic\":\"topic_URN\"}"
    }
    ```

    SMN触发器请求trigger\_def字段详细说明如[表3](#table51699968)所示。

    **表 3**  SMN触发器trigger\_def字段详细说明

    <a name="table51699968"></a>
    <table><thead align="left"><tr id="row28849561"><th class="cellrowborder" valign="top" width="15.290000000000003%" id="mcps1.2.6.1.1"><p id="p55113123"><a name="p55113123"></a><a name="p55113123"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.290000000000003%" id="mcps1.2.6.1.2"><p id="p34977969"><a name="p34977969"></a><a name="p34977969"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="16.700000000000003%" id="mcps1.2.6.1.3"><p id="p14643244"><a name="p14643244"></a><a name="p14643244"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="32.230000000000004%" id="mcps1.2.6.1.4"><p id="p45252091"><a name="p45252091"></a><a name="p45252091"></a>说明</p>
    </th>
    <th class="cellrowborder" valign="top" width="20.490000000000002%" id="mcps1.2.6.1.5"><p id="p46958140101745"><a name="p46958140101745"></a><a name="p46958140101745"></a>约束</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row41540743"><td class="cellrowborder" valign="top" width="15.290000000000003%" headers="mcps1.2.6.1.1 "><p id="p9356983"><a name="p9356983"></a><a name="p9356983"></a>Topic</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.290000000000003%" headers="mcps1.2.6.1.2 "><p id="p19718131"><a name="p19718131"></a><a name="p19718131"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="16.700000000000003%" headers="mcps1.2.6.1.3 "><p id="p53664804"><a name="p53664804"></a><a name="p53664804"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="32.230000000000004%" headers="mcps1.2.6.1.4 "><p id="p51881906"><a name="p51881906"></a><a name="p51881906"></a>Topic的唯一资源标识</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.490000000000002%" headers="mcps1.2.6.1.5 "><p id="p45512968101745"><a name="p45512968101745"></a><a name="p45512968101745"></a>-</p>
    </td>
    </tr>
    </tbody>
    </table>


-   Worker触发器请求样例

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >Worker触发器分为四种类型：WorkRequest、HeartBeat、WorkSuccess、WorkFailure。  

-   WorkRequest触发器请求样例

    ```
    {
        "event_source": "Worker",
        "name": "123WorkReq",     
        "description": "event for WorkRequest",
        "trigger_def": "{\"type\":\"WorkRequest\"}" 
    } 
    ```

-   HeartBeat触发器请求样例

    ```
    {
        "event_source": "Worker",
        "name": "123HeartBeat",     
        "description": "event for HeartBeat",
        "trigger_def": "{\"type\":\" HeartBeat \"}" 
    } 
    ```

-   WorkSuccess触发器请求样例

    ```
    {
        "event_source": "Worker",
        "name": "123WorkSuccess",     
        "description": "event for WorkSuccess",
        "trigger_def": "{\"type\":\" WorkSuccess \"}" 
    } 
    ```

-   WorkFailure触发器请求样例

    ```
    {
        "event_source": "Worker",
        "name": "123 WorkFailure",     
        "description": "event for WorkFailure ",
        "trigger_def": "{\"type\":\" WorkFailure \"}" 
    }
    ```

    ActivityWorker触发器请求trigger\_def字段详细说明如[表4](#table55062814)所示。

    **表 4**  ActivityWorker触发器trigger\_def字段详细说明

    <a name="table55062814"></a>
    <table><thead align="left"><tr id="row33379675"><th class="cellrowborder" valign="top" width="15.290000000000001%" id="mcps1.2.6.1.1"><p id="p19399120"><a name="p19399120"></a><a name="p19399120"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.290000000000001%" id="mcps1.2.6.1.2"><p id="p27824865"><a name="p27824865"></a><a name="p27824865"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="20.27%" id="mcps1.2.6.1.3"><p id="p39221624"><a name="p39221624"></a><a name="p39221624"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="26.97%" id="mcps1.2.6.1.4"><p id="p22834938"><a name="p22834938"></a><a name="p22834938"></a>说明</p>
    </th>
    <th class="cellrowborder" valign="top" width="22.18%" id="mcps1.2.6.1.5"><p id="p1690566910187"><a name="p1690566910187"></a><a name="p1690566910187"></a>约束</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row37690705"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p33048293"><a name="p33048293"></a><a name="p33048293"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.2 "><p id="p59666077"><a name="p59666077"></a><a name="p59666077"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.27%" headers="mcps1.2.6.1.3 "><p id="p1114082"><a name="p1114082"></a><a name="p1114082"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="26.97%" headers="mcps1.2.6.1.4 "><p id="p23131803"><a name="p23131803"></a><a name="p23131803"></a>Worker类型</p>
    </td>
    <td class="cellrowborder" valign="top" width="22.18%" headers="mcps1.2.6.1.5 "><p id="p2718192110187"><a name="p2718192110187"></a><a name="p2718192110187"></a>必须是WorkRequest、HeartBeat、WorkSuccess、WorkFailure中的一个</p>
    </td>
    </tr>
    </tbody>
    </table>

-   OBS触发器请求样例

    ```
    {
        "event_source":"OBS",
        "description":"created by me",
        "name": "OBSEvt11",
        "trigger_def":"{\"BucketName\":\"obs-1123\",\"EventRule\":{\"Filter\":{\"S3Key\":{\"FilterRule\":[{\"Name\":\"prefix\",\"Value\":\"abc\"},{\"Name\":\"suffix\",\"Value\":\".jpg\"}]}},\"Event\":[\"s3:ObjectCreated:*\"]}}"
    }
    ```


OBS触发器请求trigger\_def字段详细说明如[表5](#table5492652916378)所示。

**表 5**  OBS触发器trigger\_def字段详细说明

<a name="table5492652916378"></a>
<table><thead align="left"><tr id="row1043624216378"><th class="cellrowborder" valign="top" width="15.290000000000001%" id="mcps1.2.6.1.1"><p id="p1264881763618"><a name="p1264881763618"></a><a name="p1264881763618"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="13.79%" id="mcps1.2.6.1.2"><p id="p1765611703619"><a name="p1765611703619"></a><a name="p1765611703619"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="18.2%" id="mcps1.2.6.1.3"><p id="p165671733616"><a name="p165671733616"></a><a name="p165671733616"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="18.32%" id="mcps1.2.6.1.4"><p id="p11656141716369"><a name="p11656141716369"></a><a name="p11656141716369"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="34.4%" id="mcps1.2.6.1.5"><p id="p51166460101950"><a name="p51166460101950"></a><a name="p51166460101950"></a>约束</p>
</th>
</tr>
</thead>
<tbody><tr id="row452991016378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p3137843416378"><a name="p3137843416378"></a><a name="p3137843416378"></a>BucketName</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p5862522216378"><a name="p5862522216378"></a><a name="p5862522216378"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p5102257116378"><a name="p5102257116378"></a><a name="p5102257116378"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p3918760916378"><a name="p3918760916378"></a><a name="p3918760916378"></a>OBS桶名</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p10580835125010"><a name="p10580835125010"></a><a name="p10580835125010"></a>1、 只能包含英文小写字母、数字、"-"、"."</p>
<p id="p18580183517505"><a name="p18580183517505"></a><a name="p18580183517505"></a>2、只能以数字或字母开头</p>
<p id="p3580203575017"><a name="p3580203575017"></a><a name="p3580203575017"></a>3、长度要求不少于3个字符，并且不能超过63个字符</p>
<p id="p1758043515504"><a name="p1758043515504"></a><a name="p1758043515504"></a>4、不能是IP地址</p>
<p id="p1158016356505"><a name="p1158016356505"></a><a name="p1158016356505"></a>5、不能以"-"、"."结尾</p>
<p id="p75808354504"><a name="p75808354504"></a><a name="p75808354504"></a>6、不可以包括有两个相邻的"."</p>
<p id="p15580193513507"><a name="p15580193513507"></a><a name="p15580193513507"></a>7、"."和"-"不能相邻</p>
</td>
</tr>
<tr id="row1584580516378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p844182816378"><a name="p844182816378"></a><a name="p844182816378"></a>EventRule</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p1269945916378"><a name="p1269945916378"></a><a name="p1269945916378"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p2202328316378"><a name="p2202328316378"></a><a name="p2202328316378"></a>字典数据结构</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p3905551616378"><a name="p3905551616378"></a><a name="p3905551616378"></a>过滤规则</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p24607062101950"><a name="p24607062101950"></a><a name="p24607062101950"></a>非空</p>
</td>
</tr>
<tr id="row1595532516378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p1731290916378"><a name="p1731290916378"></a><a name="p1731290916378"></a>Filter</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p6016836116378"><a name="p6016836116378"></a><a name="p6016836116378"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p4179909816378"><a name="p4179909816378"></a><a name="p4179909816378"></a>字典数据结构</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p3028381616378"><a name="p3028381616378"></a><a name="p3028381616378"></a>过滤器</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p47015000101950"><a name="p47015000101950"></a><a name="p47015000101950"></a>-</p>
</td>
</tr>
<tr id="row411889316378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p6519492916378"><a name="p6519492916378"></a><a name="p6519492916378"></a>S3Key</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p4629786016378"><a name="p4629786016378"></a><a name="p4629786016378"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p5913921716378"><a name="p5913921716378"></a><a name="p5913921716378"></a>字典数据结构</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p2554726216378"><a name="p2554726216378"></a><a name="p2554726216378"></a>过滤关键字</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p50118642101950"><a name="p50118642101950"></a><a name="p50118642101950"></a>-</p>
</td>
</tr>
<tr id="row2859876816378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p3479886516378"><a name="p3479886516378"></a><a name="p3479886516378"></a>FilterRule</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p13578216378"><a name="p13578216378"></a><a name="p13578216378"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p1099835916378"><a name="p1099835916378"></a><a name="p1099835916378"></a>列表数据结构</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p1845191816378"><a name="p1845191816378"></a><a name="p1845191816378"></a>过滤条件数组</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p33078221101950"><a name="p33078221101950"></a><a name="p33078221101950"></a>可以为空，但是不能超过2个</p>
</td>
</tr>
<tr id="row3184953416378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p2967544616378"><a name="p2967544616378"></a><a name="p2967544616378"></a>Name</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p5490090216378"><a name="p5490090216378"></a><a name="p5490090216378"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p1778808716378"><a name="p1778808716378"></a><a name="p1778808716378"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p3154894416378"><a name="p3154894416378"></a><a name="p3154894416378"></a>过滤条件名称</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p1550504816378"><a name="p1550504816378"></a><a name="p1550504816378"></a>1、必须是prefixRule或者是suffixRule</p>
<p id="p532770616378"><a name="p532770616378"></a><a name="p532770616378"></a>2、不能同时为prefixRule或者suffixRule</p>
</td>
</tr>
<tr id="row4794936116378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p5869303116378"><a name="p5869303116378"></a><a name="p5869303116378"></a>Value</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p5651504116378"><a name="p5651504116378"></a><a name="p5651504116378"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p1431559116378"><a name="p1431559116378"></a><a name="p1431559116378"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p1871225916378"><a name="p1871225916378"></a><a name="p1871225916378"></a>过滤值</p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p63254884101950"><a name="p63254884101950"></a><a name="p63254884101950"></a>-</p>
</td>
</tr>
<tr id="row3419260316378"><td class="cellrowborder" valign="top" width="15.290000000000001%" headers="mcps1.2.6.1.1 "><p id="p1813748816378"><a name="p1813748816378"></a><a name="p1813748816378"></a>Event</p>
</td>
<td class="cellrowborder" valign="top" width="13.79%" headers="mcps1.2.6.1.2 "><p id="p5985044616378"><a name="p5985044616378"></a><a name="p5985044616378"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="18.2%" headers="mcps1.2.6.1.3 "><p id="p1604793216378"><a name="p1604793216378"></a><a name="p1604793216378"></a>列表数据结构</p>
</td>
<td class="cellrowborder" valign="top" width="18.32%" headers="mcps1.2.6.1.4 "><p id="p2481408216378"><a name="p2481408216378"></a><a name="p2481408216378"></a>OBS事件类型</p>
<p id="p1915564216378"><a name="p1915564216378"></a><a name="p1915564216378"></a></p>
</td>
<td class="cellrowborder" valign="top" width="34.4%" headers="mcps1.2.6.1.5 "><p id="p18229040102159"><a name="p18229040102159"></a><a name="p18229040102159"></a>只能是以下固定类型，且不能重复</p>
<p id="p29843640102159"><a name="p29843640102159"></a><a name="p29843640102159"></a>"s3:ObjectCreated:*",</p>
<p id="p157311102159"><a name="p157311102159"></a><a name="p157311102159"></a>"s3:ObjectCreated:Put",</p>
<p id="p1415807102159"><a name="p1415807102159"></a><a name="p1415807102159"></a>"s3:ObjectCreated:Post",</p>
<p id="p12742263102159"><a name="p12742263102159"></a><a name="p12742263102159"></a>"s3:ObjectCreated:Copy,</p>
<p id="p47571505102159"><a name="p47571505102159"></a><a name="p47571505102159"></a>"s3:ObjectCreated:CompleteMultipartUpload",</p>
<p id="p25490367102159"><a name="p25490367102159"></a><a name="p25490367102159"></a>"s3:ObjectRemoved:*",</p>
<p id="p28086712102159"><a name="p28086712102159"></a><a name="p28086712102159"></a>"s3:ObjectRemoved:Delete",</p>
<p id="p51453823102159"><a name="p51453823102159"></a><a name="p51453823102159"></a>"s3:ObjectRemoved:DeleteMarkerCreated"</p>
</td>
</tr>
</tbody>
</table>

详情参考《OBS开发指南》和《OBS用户指南》

**响应参数**

响应参数如[表6](#table394445163918)所示。    

**表 6**  响应参数

<a name="table394445163918"></a>
<table><thead align="left"><tr id="row5944851163912"><th class="cellrowborder" valign="top" width="20.202020202020204%" id="mcps1.2.4.1.1"><p id="p7944165193912"><a name="p7944165193912"></a><a name="p7944165193912"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="31.313131313131308%" id="mcps1.2.4.1.2"><p id="p494413519391"><a name="p494413519391"></a><a name="p494413519391"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="48.484848484848484%" id="mcps1.2.4.1.3"><p id="p159441351193918"><a name="p159441351193918"></a><a name="p159441351193918"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row149441251173914"><td class="cellrowborder" valign="top" width="20.202020202020204%" headers="mcps1.2.4.1.1 "><p id="p159441151143920"><a name="p159441151143920"></a><a name="p159441151143920"></a>trigger_urn</p>
</td>
<td class="cellrowborder" valign="top" width="31.313131313131308%" headers="mcps1.2.4.1.2 "><p id="p994485116397"><a name="p994485116397"></a><a name="p994485116397"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="48.484848484848484%" headers="mcps1.2.4.1.3 "><p id="p18944951193920"><a name="p18944951193920"></a><a name="p18944951193920"></a>创建的触发器的URN</p>
</td>
</tr>
</tbody>
</table>

>![](public_sys-resources/icon-note.gif) **说明：**   
>触发器urn格式为urn:fgs:\{region\}:\{project\_id\}:trigger:\{event\_source\}\_\{resource\}\_\{name+uuid\}\_\{time\}，其中，region为租户所在区域，project\_id为租户ID，event\_source为事件源名称，resource为事件源资源标识（如OBS桶ID、SMN Topic、Worker触发器的类型等），name为请求中携带的name字段值。uuid是系统自动创建的唯一标识，若请求中没有name字段，则使用uuid作为name，并保证唯一。time为创建触发器的时间戳。  

**响应示例**

```
{
    "trigger_urn": "urn:fgs:cn-north-1:9800716a0c604a8690963103a85754f0:trigger:SMN_pzwtopic_xxx38cb32a7-90bd-4e2f-7459-eabdf6ffce55_1505543466"
}
```

-   异常响应

    请参考[异常响应](请求结果.md#section88241732388)。


## 返回值<a name="section4997277"></a>

请参考[返回值](请求结果.md#section20306194210386)。

