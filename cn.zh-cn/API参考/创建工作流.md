# 创建工作流<a name="ZH-CN_TOPIC_0115410452"></a>

## 功能介绍<a name="section51379511"></a>

创建一个工作流。

## URI<a name="section59762422"></a>

POST /v1.0/\{project\_id\}/cloud\_graphs

参数说明如[表1](#table13216186)所示。   

**表 1**  参数说明

<a name="table13216186"></a>
<table><thead align="left"><tr id="row19124697"><th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.1"><p id="p5596611"><a name="p5596611"></a><a name="p5596611"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.2"><p id="p50672366"><a name="p50672366"></a><a name="p50672366"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.3"><p id="p10820994"><a name="p10820994"></a><a name="p10820994"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.5.1.4"><p id="p4085285"><a name="p4085285"></a><a name="p4085285"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row62472706"><td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.1 "><p id="p27124415"><a name="p27124415"></a><a name="p27124415"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.2 "><p id="p49593988"><a name="p49593988"></a><a name="p49593988"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.3 "><p id="p57690106"><a name="p57690106"></a><a name="p57690106"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.5.1.4 "><p id="p42387016"><a name="p42387016"></a><a name="p42387016"></a>租户ID</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section990892"></a>

**请求参数**

请求参数如[表2](#table63351959)所示。

>![](public_sys-resources/icon-note.gif) **说明：**   
>Definition内容的格式请参见[《FunctionGraph开发指南》](https://support.huaweicloud.com/devg-functiongraph/functiongraph_02_0101.html)。  

**表 2**  请求参数

<a name="table63351959"></a>
<table><thead align="left"><tr id="row15085294"><th class="cellrowborder" valign="top" width="20.849999999999998%" id="mcps1.2.6.1.1"><p id="p13949281"><a name="p13949281"></a><a name="p13949281"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.790000000000001%" id="mcps1.2.6.1.2"><p id="p56149948"><a name="p56149948"></a><a name="p56149948"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="14.27%" id="mcps1.2.6.1.3"><p id="p51851944"><a name="p51851944"></a><a name="p51851944"></a><em id="i64014316"><a name="i64014316"></a><a name="i64014316"></a>参数类型</em></p>
</th>
<th class="cellrowborder" valign="top" width="26.22%" id="mcps1.2.6.1.4"><p id="p17777075"><a name="p17777075"></a><a name="p17777075"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="23.87%" id="mcps1.2.6.1.5"><p id="p6236139910250"><a name="p6236139910250"></a><a name="p6236139910250"></a>约束</p>
</th>
</tr>
</thead>
<tbody><tr id="row188376"><td class="cellrowborder" valign="top" width="20.849999999999998%" headers="mcps1.2.6.1.1 "><p id="p15258501"><a name="p15258501"></a><a name="p15258501"></a>graph_name</p>
</td>
<td class="cellrowborder" valign="top" width="14.790000000000001%" headers="mcps1.2.6.1.2 "><p id="p27979087"><a name="p27979087"></a><a name="p27979087"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.27%" headers="mcps1.2.6.1.3 "><p id="p51713565"><a name="p51713565"></a><a name="p51713565"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="26.22%" headers="mcps1.2.6.1.4 "><p id="p51116569"><a name="p51116569"></a><a name="p51116569"></a>工作流的名称信息</p>
</td>
<td class="cellrowborder" valign="top" width="23.87%" headers="mcps1.2.6.1.5 "><p id="p1198144211613"><a name="p1198144211613"></a><a name="p1198144211613"></a>名称必须以字母或数字开头，只能由字母、数字、下划线和中划线组成，长度小于等于64个字符，且不能重名</p>
</td>
</tr>
<tr id="row49585950"><td class="cellrowborder" valign="top" width="20.849999999999998%" headers="mcps1.2.6.1.1 "><p id="p57039000"><a name="p57039000"></a><a name="p57039000"></a>definition</p>
</td>
<td class="cellrowborder" valign="top" width="14.790000000000001%" headers="mcps1.2.6.1.2 "><p id="p56756307"><a name="p56756307"></a><a name="p56756307"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="14.27%" headers="mcps1.2.6.1.3 "><p id="p33858167"><a name="p33858167"></a><a name="p33858167"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="26.22%" headers="mcps1.2.6.1.4 "><p id="p53650690"><a name="p53650690"></a><a name="p53650690"></a>工作流定义的具体内容</p>
</td>
<td class="cellrowborder" valign="top" width="23.87%" headers="mcps1.2.6.1.5 "><p id="p5750708510250"><a name="p5750708510250"></a><a name="p5750708510250"></a>长度最小为1，最长为65536，符合状态图定义规则</p>
</td>
</tr>
<tr id="row53994596"><td class="cellrowborder" valign="top" width="20.849999999999998%" headers="mcps1.2.6.1.1 "><p id="p11486137"><a name="p11486137"></a><a name="p11486137"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="14.790000000000001%" headers="mcps1.2.6.1.2 "><p id="p57961919"><a name="p57961919"></a><a name="p57961919"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="14.27%" headers="mcps1.2.6.1.3 "><p id="p64403869"><a name="p64403869"></a><a name="p64403869"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="26.22%" headers="mcps1.2.6.1.4 "><p id="p41325284"><a name="p41325284"></a><a name="p41325284"></a>工作流的描述</p>
</td>
<td class="cellrowborder" valign="top" width="23.87%" headers="mcps1.2.6.1.5 "><p id="p2756233310250"><a name="p2756233310250"></a><a name="p2756233310250"></a>长度最小为0，最长为256，可以是数字、大小写字母以及英文的逗号，句号，冒号，中划线,，下划线，空格</p>
</td>
</tr>
</tbody>
</table>

## 响应消息<a name="section8918034"></a>

**响应参数**

响应参数如[表3](#table77026151513)所示。   

**表 3**  响应参数

<a name="table77026151513"></a>
<table><thead align="left"><tr id="row1970213119159"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p117023121517"><a name="p117023121517"></a><a name="p117023121517"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p970211161518"><a name="p970211161518"></a><a name="p970211161518"></a><em id="i157021515159"><a name="i157021515159"></a><a name="i157021515159"></a>参数类型</em></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p970231141517"><a name="p970231141517"></a><a name="p970231141517"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1770212116155"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p13702718153"><a name="p13702718153"></a><a name="p13702718153"></a>graph_urn</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p5702216150"><a name="p5702216150"></a><a name="p5702216150"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p147021014151"><a name="p147021014151"></a><a name="p147021014151"></a>工作流的URN</p>
</td>
</tr>
<tr id="row6702121141514"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p16702214151"><a name="p16702214151"></a><a name="p16702214151"></a>created_at</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1070281161519"><a name="p1070281161519"></a><a name="p1070281161519"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p12702111191519"><a name="p12702111191519"></a><a name="p12702111191519"></a>工作流创建的时间</p>
</td>
</tr>
</tbody>
</table>

## 示例<a name="section1524055311248"></a>

**请求示例**

```
{
    "graph_name": "video-analysis", 
    "description": "A Graph Demo for the test",
    "definition": "{\"states\":{\"helloWorldState\":{\"type\":\"NOOP\",\"next-state\":\"endState\",\"start\":true},\"endState\":{\"type\":\"END\"}}}"
}
```

**响应示例**：

```
{
    "created_at": "2017-08-10T07:51:00.630Z",
    "graph_urn": "urn:fgs:cn-north-1:57f8fd63abc847ac8b52960d11185a15:graph:video-analysis"
}
```

## 返回值<a name="section370272717123"></a>

状态码请参见[状态码](状态码.md)。

