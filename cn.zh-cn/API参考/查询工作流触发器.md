# 查询工作流触发器<a name="functiongraph_06_0520"></a>

## 功能介绍<a name="section54995351"></a>

查询触发器详细信息。

## URI<a name="section25196113"></a>

GET /v1.0/\{project\_id\}/cloud\_triggers/\{trigger\_identifier\}

参数说明如[表1](#table51631922)所示  

**表 1**  参数说明

<a name="table51631922"></a>
<table><thead align="left"><tr id="row49424379"><th class="cellrowborder" valign="top" width="19.189999999999998%" id="mcps1.2.4.1.1"><p id="p43951783"><a name="p43951783"></a><a name="p43951783"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="19.189999999999998%" id="mcps1.2.4.1.2"><p id="p3324704"><a name="p3324704"></a><a name="p3324704"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="61.62%" id="mcps1.2.4.1.3"><p id="p865613"><a name="p865613"></a><a name="p865613"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row3005847"><td class="cellrowborder" valign="top" width="19.189999999999998%" headers="mcps1.2.4.1.1 "><p id="p42147045"><a name="p42147045"></a><a name="p42147045"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="19.189999999999998%" headers="mcps1.2.4.1.2 "><p id="p58467488"><a name="p58467488"></a><a name="p58467488"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="61.62%" headers="mcps1.2.4.1.3 "><p id="p38246063"><a name="p38246063"></a><a name="p38246063"></a>租户ID</p>
</td>
</tr>
<tr id="row8670250"><td class="cellrowborder" valign="top" width="19.189999999999998%" headers="mcps1.2.4.1.1 "><p id="p31201619"><a name="p31201619"></a><a name="p31201619"></a>trigger_ identifier</p>
</td>
<td class="cellrowborder" valign="top" width="19.189999999999998%" headers="mcps1.2.4.1.2 "><p id="p44303172"><a name="p44303172"></a><a name="p44303172"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="61.62%" headers="mcps1.2.4.1.3 "><p id="p31787174"><a name="p31787174"></a><a name="p31787174"></a>触发器URN或者触发器UUID</p>
</td>
</tr>
</tbody>
</table>

## 请求<a name="section25438431"></a>

不涉及。

## 响应<a name="section27619288"></a>

-   正常响应

    **响应参数**

    响应参数如[表2](#table2041317425420)所示

    **表 2**  响应参数

    <a name="table2041317425420"></a>
    <table><thead align="left"><tr id="row1041354217421"><th class="cellrowborder" valign="top" width="25.252525252525253%" id="mcps1.2.4.1.1"><p id="p1441384220423"><a name="p1441384220423"></a><a name="p1441384220423"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.252525252525253%" id="mcps1.2.4.1.2"><p id="p841344215424"><a name="p841344215424"></a><a name="p841344215424"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="49.494949494949495%" id="mcps1.2.4.1.3"><p id="p104131642144210"><a name="p104131642144210"></a><a name="p104131642144210"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row18413204213425"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p24131442124214"><a name="p24131442124214"></a><a name="p24131442124214"></a>event_source</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p154131842144210"><a name="p154131842144210"></a><a name="p154131842144210"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p04131421421"><a name="p04131421421"></a><a name="p04131421421"></a>事件源名称</p>
    </td>
    </tr>
    <tr id="row1641364211421"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p1941320429426"><a name="p1941320429426"></a><a name="p1941320429426"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p1841334234219"><a name="p1841334234219"></a><a name="p1841334234219"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p1641314425420"><a name="p1641314425420"></a><a name="p1641314425420"></a>触发器名称</p>
    </td>
    </tr>
    <tr id="row34131442134217"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p1841318421426"><a name="p1841318421426"></a><a name="p1841318421426"></a>description</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p3413184234213"><a name="p3413184234213"></a><a name="p3413184234213"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p1413124210425"><a name="p1413124210425"></a><a name="p1413124210425"></a>触发器描述</p>
    </td>
    </tr>
    <tr id="row164139420422"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p18413164294218"><a name="p18413164294218"></a><a name="p18413164294218"></a>trigger_def</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p2413204244215"><a name="p2413204244215"></a><a name="p2413204244215"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p124131142164211"><a name="p124131142164211"></a><a name="p124131142164211"></a>触发器定义</p>
    </td>
    </tr>
    <tr id="row134131642174216"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p84136423427"><a name="p84136423427"></a><a name="p84136423427"></a>id</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p13413114254214"><a name="p13413114254214"></a><a name="p13413114254214"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p20413134216425"><a name="p20413134216425"></a><a name="p20413134216425"></a>触发器UUID</p>
    </td>
    </tr>
    <tr id="row11413144210423"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p5413642174210"><a name="p5413642174210"></a><a name="p5413642174210"></a>trigger_urn</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p241310420424"><a name="p241310420424"></a><a name="p241310420424"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p174131042194215"><a name="p174131042194215"></a><a name="p174131042194215"></a>触发器URN</p>
    </td>
    </tr>
    <tr id="row8413184214423"><td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.1 "><p id="p341354254217"><a name="p341354254217"></a><a name="p341354254217"></a>created_at</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.252525252525253%" headers="mcps1.2.4.1.2 "><p id="p104131542194210"><a name="p104131542194210"></a><a name="p104131542194210"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="49.494949494949495%" headers="mcps1.2.4.1.3 "><p id="p4413194274216"><a name="p4413194274216"></a><a name="p4413194274216"></a>触发器创建时间</p>
    </td>
    </tr>
    </tbody>
    </table>

    >![](public_sys-resources/icon-note.gif) **说明：**   
    >created\_at为触发器创建的UTC时间。  
    >只有创建该触发器时填写了description字段，查询响应中才会带有description字段。  

    **响应示例**

    SMN触发器详细信息响应示例

    ```
    {
         "event_source": "SMN",
         "name": "testevt1",
         "trigger_def": "{\"Topic\":\"urn:smn:cn-north-1:9800716a0c604a8690963103a85754f0:pzwtopic\"}",
         "id": "e527c73b-78e4-4479-685f-64a01d175c7f",
         "desciption": "I'm a SMN trigger",
         "trigger_urn": "urn:fgs:cn-north-1:9800716a0c604a8690963103a85754f0:event:SMN_pzwtopic_testevt1e527c73b-78e4-4479-685f-64a01d175c7f_1505805316",
         "created_at": "2017-09-19T07:15:16Z"
    } 
    ```

    SMN触发器详细信息响应trigger\_def字段详细说明如[表3](#table45203650)所示。

    **表 3**  trigger\_def字段详细说明

    <a name="table45203650"></a>
    <table><thead align="left"><tr id="row9673245"><th class="cellrowborder" valign="top" width="20.73%" id="mcps1.2.4.1.1"><p id="p45335391"><a name="p45335391"></a><a name="p45335391"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="35.370000000000005%" id="mcps1.2.4.1.2"><p id="p19020241"><a name="p19020241"></a><a name="p19020241"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="43.9%" id="mcps1.2.4.1.3"><p id="p64244561"><a name="p64244561"></a><a name="p64244561"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row36426933"><td class="cellrowborder" valign="top" width="20.73%" headers="mcps1.2.4.1.1 "><p id="p64900454"><a name="p64900454"></a><a name="p64900454"></a>Topic</p>
    </td>
    <td class="cellrowborder" valign="top" width="35.370000000000005%" headers="mcps1.2.4.1.2 "><p id="p6137036"><a name="p6137036"></a><a name="p6137036"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="43.9%" headers="mcps1.2.4.1.3 "><p id="p27337939"><a name="p27337939"></a><a name="p27337939"></a>Topic的唯一资源标识</p>
    </td>
    </tr>
    </tbody>
    </table>

    Worker触发器详细信息响应示例

    WorkRequest触发器详细信息响应trigger\_def字段详细说明如[表4](#table41347315)所示。

    **表 4**  trigger\_def字段详细说明

    <a name="table41347315"></a>
    <table><thead align="left"><tr id="row18807190"><th class="cellrowborder" valign="top" width="20.73%" id="mcps1.2.4.1.1"><p id="p46987420"><a name="p46987420"></a><a name="p46987420"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="35.370000000000005%" id="mcps1.2.4.1.2"><p id="p53451100"><a name="p53451100"></a><a name="p53451100"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="43.9%" id="mcps1.2.4.1.3"><p id="p34571880"><a name="p34571880"></a><a name="p34571880"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row48858863"><td class="cellrowborder" valign="top" width="20.73%" headers="mcps1.2.4.1.1 "><p id="p65253851"><a name="p65253851"></a><a name="p65253851"></a>type</p>
    </td>
    <td class="cellrowborder" valign="top" width="35.370000000000005%" headers="mcps1.2.4.1.2 "><p id="p43078913"><a name="p43078913"></a><a name="p43078913"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="43.9%" headers="mcps1.2.4.1.3 "><p id="p66839947"><a name="p66839947"></a><a name="p66839947"></a>Worker触发器类型</p>
    </td>
    </tr>
    </tbody>
    </table>

    WorkRequest触发器请求样例

    ```
    {
          "event_source": "Worker",
          "name": "event-49f1",
          "trigger_def": "{\"type\":\"WorkRequest\"}",
          "id": "5f327e5f-c971-4e1f-7282-04d1a4ffea70",
          "trigger_urn": "urn:fgs:cn-north-1:9800716a0c604a8690963103a85754f0:event:Worker_WorkRequest_event-49f15f327e5f-c971-4e1f-7282-04d1a4ffea70_1506045327",
          "created_at": "2017-09-22T01:55:27Z"
    }
    
    ```

    HeartBeat触发器详细信息响应示例

    ```
    {
      "event_source": "Worker",
      "name": "workReqEvt",
      "trigger_def": "{\"type\":\"HeartBeat\"}",
      "id": "1e1752ad-3af3-4e75-752b-ccca1006777b",
      "trigger_urn": "urn:serverless:cn-north-1:9800716a0c604a8690963103a85754f0:event:Worker_HeartBeat_workReqEvt1e1752ad-3af3-4e75-752b-ccca1006777b_1504861622"
      "created_at": "2017-09-08T09:07:02Z"
    }
    
    ```

    WorkSuccess触发器详细信息响应示例

    ```
    {
      "event_source": "Worker",
      "name": "event-c7ce",
      "trigger_def": "{\"type\":\"WorkSuccess\"}",
      "id": "9d4f603c-29fd-4295-7d68-796f19286920",
      "trigger_urn": "urn:fgs:cn-north-1:9800716a0c604a8690963103a85754f0:event:Worker_WorkSuccess_event-c7ce9d4f603c-29fd-4295-7d68-796f19286920_1505544141",
      "created_at": "2017-09-16T06:42:21Z"
    }
    ```

    WorkFailure触发器详细信息响应示例

    ```
    {
       "event_source": "Worker",
       "name": "event-13d7",
       "trigger_def": "{\"type\":\"WorkFailure\"}",
       "id": "affbbfe4-4f57-44a8-7507-2f4898a901ca",
       "trigger_urn": "urn:fgs:cn-north-1:9800716a0c604a8690963103a85754f0:event:Worker_WorkFailure_event-13d7affbbfe4-4f57-44a8-7507-2f4898a901ca_1505544157",
       "created_at": "2017-09-16T06:42:37Z"
    }
    ```


-   异常响应

    请参考[异常响应](请求结果.md#section88241732388)。


## 返回值<a name="section47247007"></a>

请参考[返回值](请求结果.md#section20306194210386)。

