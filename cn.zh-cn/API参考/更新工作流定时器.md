# 更新工作流定时器<a name="functiongraph_06_1420"></a>

## 功能介绍<a name="section2635056615137"></a>

更新定时器定义。

## URI<a name="section1642813715137"></a>

PUT /v1.0/\{project\_id\}/cloud\_cron/\{cron\_trigger\_urn\}

参数说明如[表1](#table648622115137)所示。    

**表 1**  参数说明

<a name="table648622115137"></a>
<table><thead align="left"><tr id="row4221086515137"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p6363689315137"><a name="p6363689315137"></a><a name="p6363689315137"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p5431466915137"><a name="p5431466915137"></a><a name="p5431466915137"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p3741204115137"><a name="p3741204115137"></a><a name="p3741204115137"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1047650615137"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p4329069615137"><a name="p4329069615137"></a><a name="p4329069615137"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1688549815137"><a name="p1688549815137"></a><a name="p1688549815137"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p2554812115137"><a name="p2554812115137"></a><a name="p2554812115137"></a>租户ID</p>
</td>
</tr>
<tr id="row2860650015137"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p3542520115137"><a name="p3542520115137"></a><a name="p3542520115137"></a>cron_trigger_urn</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p5086902215137"><a name="p5086902215137"></a><a name="p5086902215137"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p2675009915137"><a name="p2675009915137"></a><a name="p2675009915137"></a>定时器URN</p>
</td>
</tr>
</tbody>
</table>

## 请求<a name="section3942430515137"></a>

**请求参数**

请求参数如[表2](#table3633150215137)所示。

**表 2**  请求参数

<a name="table3633150215137"></a>
<table><thead align="left"><tr id="row5986334415137"><th class="cellrowborder" valign="top" width="20.847915208479158%" id="mcps1.2.6.1.1"><p id="p1709273015137"><a name="p1709273015137"></a><a name="p1709273015137"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="14.788521147885215%" id="mcps1.2.6.1.2"><p id="p4233391715137"><a name="p4233391715137"></a><a name="p4233391715137"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20.847915208479158%" id="mcps1.2.6.1.3"><p id="p649523215137"><a name="p649523215137"></a><a name="p649523215137"></a><em id="i5845708915137"><a name="i5845708915137"></a><a name="i5845708915137"></a>参数类型</em></p>
</th>
<th class="cellrowborder" valign="top" width="28.28717128287172%" id="mcps1.2.6.1.4"><p id="p3740375115137"><a name="p3740375115137"></a><a name="p3740375115137"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="15.228477152284775%" id="mcps1.2.6.1.5"><p id="p980502715137"><a name="p980502715137"></a><a name="p980502715137"></a>约束</p>
</th>
</tr>
</thead>
<tbody><tr id="row5600969015137"><td class="cellrowborder" valign="top" width="20.847915208479158%" headers="mcps1.2.6.1.1 "><p id="p4049106215137"><a name="p4049106215137"></a><a name="p4049106215137"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="14.788521147885215%" headers="mcps1.2.6.1.2 "><p id="p5855062315137"><a name="p5855062315137"></a><a name="p5855062315137"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20.847915208479158%" headers="mcps1.2.6.1.3 "><p id="p4498002815137"><a name="p4498002815137"></a><a name="p4498002815137"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="28.28717128287172%" headers="mcps1.2.6.1.4 "><p id="p4131530515137"><a name="p4131530515137"></a><a name="p4131530515137"></a>定时器的描述</p>
</td>
<td class="cellrowborder" valign="top" width="15.228477152284775%" headers="mcps1.2.6.1.5 "><p id="p2756233310250"><a name="p2756233310250"></a><a name="p2756233310250"></a>长度最小为0，且最长为256，可以是数字、大小写字母以及英文的逗号，句号，冒号，中划线,，下划线，空格</p>
</td>
</tr>
<tr id="row1701698415137"><td class="cellrowborder" valign="top" width="20.847915208479158%" headers="mcps1.2.6.1.1 "><p id="p3619848115137"><a name="p3619848115137"></a><a name="p3619848115137"></a>expression</p>
</td>
<td class="cellrowborder" valign="top" width="14.788521147885215%" headers="mcps1.2.6.1.2 "><p id="p4639581815137"><a name="p4639581815137"></a><a name="p4639581815137"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20.847915208479158%" headers="mcps1.2.6.1.3 "><p id="p6707373915137"><a name="p6707373915137"></a><a name="p6707373915137"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="28.28717128287172%" headers="mcps1.2.6.1.4 "><p id="p4150304715137"><a name="p4150304715137"></a><a name="p4150304715137"></a>定时器的表达式，按cron表达式定义时必选</p>
</td>
<td class="cellrowborder" valign="top" width="15.228477152284775%" headers="mcps1.2.6.1.5 "><p id="p630368515137"><a name="p630368515137"></a><a name="p630368515137"></a>六位或五位，分钟级(规则详见<a href="工作流定时器Cron表达式规则.md">工作流定时器Cron表达式规则</a>)</p>
</td>
</tr>
<tr id="row5673317015137"><td class="cellrowborder" valign="top" width="20.847915208479158%" headers="mcps1.2.6.1.1 "><p id="p3198407015137"><a name="p3198407015137"></a><a name="p3198407015137"></a>simple_trigger</p>
</td>
<td class="cellrowborder" valign="top" width="14.788521147885215%" headers="mcps1.2.6.1.2 "><p id="p4057284115137"><a name="p4057284115137"></a><a name="p4057284115137"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20.847915208479158%" headers="mcps1.2.6.1.3 "><p id="p6517472615137"><a name="p6517472615137"></a><a name="p6517472615137"></a>字典数据结构</p>
</td>
<td class="cellrowborder" valign="top" width="28.28717128287172%" headers="mcps1.2.6.1.4 "><p id="p6640866915137"><a name="p6640866915137"></a><a name="p6640866915137"></a>定时器的表达式，定时器按固定频率定义时必选</p>
<p id="p6080711215137"><a name="p6080711215137"></a><a name="p6080711215137"></a>具体请参见<a href="#functiongraph_06_1420__table6037863615137">表3</a>。</p>
</td>
<td class="cellrowborder" valign="top" width="15.228477152284775%" headers="mcps1.2.6.1.5 "><p id="p3653489915137"><a name="p3653489915137"></a><a name="p3653489915137"></a>-</p>
</td>
</tr>
</tbody>
</table>

**表 3**  simple\_trigger结构体定义

<a name="table6037863615137"></a>
<table><thead align="left"><tr id="row2980562415137"><th class="cellrowborder" valign="top" width="15.310000000000002%" id="mcps1.2.6.1.1"><p id="p6544534415137"><a name="p6544534415137"></a><a name="p6544534415137"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="9.180000000000001%" id="mcps1.2.6.1.2"><p id="p6658152515137"><a name="p6658152515137"></a><a name="p6658152515137"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="15.310000000000002%" id="mcps1.2.6.1.3"><p id="p2439443015137"><a name="p2439443015137"></a><a name="p2439443015137"></a><em id="i1822328215137"><a name="i1822328215137"></a><a name="i1822328215137"></a>参数类型</em></p>
</th>
<th class="cellrowborder" valign="top" width="30.61%" id="mcps1.2.6.1.4"><p id="p6679971715137"><a name="p6679971715137"></a><a name="p6679971715137"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="29.59%" id="mcps1.2.6.1.5"><p id="p4206796815137"><a name="p4206796815137"></a><a name="p4206796815137"></a>约束</p>
</th>
</tr>
</thead>
<tbody><tr id="row5206225215137"><td class="cellrowborder" valign="top" width="15.310000000000002%" headers="mcps1.2.6.1.1 "><p id="p5629288015137"><a name="p5629288015137"></a><a name="p5629288015137"></a>unit</p>
</td>
<td class="cellrowborder" valign="top" width="9.180000000000001%" headers="mcps1.2.6.1.2 "><p id="p6342946115137"><a name="p6342946115137"></a><a name="p6342946115137"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.310000000000002%" headers="mcps1.2.6.1.3 "><p id="p3751273915137"><a name="p3751273915137"></a><a name="p3751273915137"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="30.61%" headers="mcps1.2.6.1.4 "><p id="p3347920915137"><a name="p3347920915137"></a><a name="p3347920915137"></a>固定频率单位</p>
</td>
<td class="cellrowborder" valign="top" width="29.59%" headers="mcps1.2.6.1.5 "><p id="p2746142715137"><a name="p2746142715137"></a><a name="p2746142715137"></a>只能为hour、minute或day中的一个</p>
</td>
</tr>
<tr id="row4582625415137"><td class="cellrowborder" valign="top" width="15.310000000000002%" headers="mcps1.2.6.1.1 "><p id="p2093908515137"><a name="p2093908515137"></a><a name="p2093908515137"></a>interval</p>
</td>
<td class="cellrowborder" valign="top" width="9.180000000000001%" headers="mcps1.2.6.1.2 "><p id="p1834434915137"><a name="p1834434915137"></a><a name="p1834434915137"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="15.310000000000002%" headers="mcps1.2.6.1.3 "><p id="p949731815137"><a name="p949731815137"></a><a name="p949731815137"></a>Int</p>
</td>
<td class="cellrowborder" valign="top" width="30.61%" headers="mcps1.2.6.1.4 "><p id="p1133191115137"><a name="p1133191115137"></a><a name="p1133191115137"></a>固定频率间隔</p>
</td>
<td class="cellrowborder" valign="top" width="29.59%" headers="mcps1.2.6.1.5 "><p id="p4546957115137"><a name="p4546957115137"></a><a name="p4546957115137"></a>-</p>
</td>
</tr>
</tbody>
</table>

**请求样例**

-   按cron表达式定义样例

```
{
    "description":"test",
    "expression": "0/1 * * * ?" 
}
```

-   按固定频率定义样例

```
{
    "description":"test2",
    "simple_trigger": {
        "interval":1,
        "unit":"hour"
    }
}
```

## 响应<a name="section4131515915137"></a>

-   正常响应

    **响应参数**

    响应参数如[表4](#table1346058415137)所示。    

    **表 4**  响应参数

    <a name="table1346058415137"></a>
    <table><thead align="left"><tr id="row6461553715137"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p6647604015137"><a name="p6647604015137"></a><a name="p6647604015137"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p1585012215137"><a name="p1585012215137"></a><a name="p1585012215137"></a><em id="i843337615137"><a name="i843337615137"></a><a name="i843337615137"></a>参数类型</em></p>
    </th>
    <th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p1201483215137"><a name="p1201483215137"></a><a name="p1201483215137"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row3367734515137"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p4351042615137"><a name="p4351042615137"></a><a name="p4351042615137"></a>cron_trigger_urn</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p3468365215137"><a name="p3468365215137"></a><a name="p3468365215137"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p5145004915137"><a name="p5145004915137"></a><a name="p5145004915137"></a>定时器的URN</p>
    </td>
    </tr>
    <tr id="row6039725815137"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p6033970115137"><a name="p6033970115137"></a><a name="p6033970115137"></a>last_modified</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p5567761715137"><a name="p5567761715137"></a><a name="p5567761715137"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p5522926815137"><a name="p5522926815137"></a><a name="p5522926815137"></a>定时器最后修改的时间</p>
    </td>
    </tr>
    </tbody>
    </table>

    **响应样例**

    ```
    {
        "cron_trigger_urn": "urn:fgs:cn-north-1:7aad83af3e8d42e99ac194e8419e2c9b:cron:devops-test-graph:name0101",
        "last_modified": "2017-12-22T09:38:28.896Z"
    }
    ```


-   异常响应

    请参考[异常响应](请求结果.md#section88241732388)。


## 返回值<a name="section3900817915137"></a>

请参考[返回值](请求结果.md#section20306194210386)。

